<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S.P.A. - DEFESA REFINADA V4</title>
    <style>
        :root { --gold: #D4AF37; --bg: #000; --neon: #00FF41; --danger: #FF3E3E; --shield: #007FFF; --warning: #FFA500; }
        body { background: var(--bg); color: #EEE; font-family: 'Courier New', monospace; padding: 10px; text-align: center; margin: 0; }
        .master-panel { border: 2px solid #1a1a1a; border-radius: 30px; padding: 20px; background: #080808; max-width: 480px; margin: auto; box-shadow: 0 0 30px rgba(0,127,255,0.1); }
        
        .status-header { display: flex; justify-content: space-between; font-size: 10px; color: #444; margin-bottom: 10px; }
        #radar { font-size: 14px; font-weight: bold; padding: 15px; border-radius: 12px; margin-bottom: 15px; border: 1px solid #333; transition: 0.5s; }
        
        .limpo { color: var(--neon); background: rgba(0, 255, 65, 0.05); }
        .alerta { color: var(--warning); background: rgba(255, 165, 0, 0.1); border-color: var(--warning) !important; animation: pulse 1s infinite; }
        .monitorado { color: var(--danger); background: rgba(255, 62, 62, 0.2); border-color: var(--danger) !important; animation: shake 0.2s infinite; }
        
        .ipi-container { width: 100%; background: #111; height: 8px; border-radius: 4px; margin: 5px 0 15px 0; overflow: hidden; border: 1px solid #222; }
        #ipi-bar { width: 0%; height: 100%; background: linear-gradient(90deg, var(--shield), var(--neon)); transition: 1s; }
        
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.6; } 100% { opacity: 1; } }
        @keyframes shake { 0% { transform: translate(1px); } 50% { transform: translate(-1px); } 100% { transform: translate(1px); } }
        
        .btn-main { width: 100%; padding: 20px; background: var(--gold); border: none; border-radius: 15px; color: #000; font-weight: 900; cursor: pointer; text-transform: uppercase; margin-bottom: 10px; font-size: 14px; }
        .btn-reset { width: 100%; padding: 15px; background: #0a0a0a; border: 1px solid var(--shield); border-radius: 12px; color: var(--shield); font-weight: bold; cursor: pointer; text-transform: uppercase; font-size: 11px; }
        
        #console-msg { background: #050505; height: 90px; font-size: 10px; color: #777; overflow-y: auto; text-align: left; padding: 10px; margin-top: 15px; border-radius: 10px; border: 1px solid #1a1a1a; border-left: 3px solid var(--shield); }
        #timer { font-size: 20px; color: var(--gold); font-weight: bold; margin: 10px 0; display: none; }
    </style>
</head>
<body>

    <div class="master-panel">
        <div class="status-header">
            <span>SISTEMA: V4-REFINADO</span>
            <span>IPI: MONITORADO</span>
            <span id="clock">00:00:00</span>
        </div>

        <div id="radar" class="limpo">üîç RADAR: INVIS√çVEL</div>
        
        <div style="text-align: left; font-size: 9px; color: #555;">PRESS√ÉO DE IDENTIDADE (IPI ATIVO)</div>
        <div class="ipi-container"><div id="ipi-bar"></div></div>

        <div id="timer">DESORIENTANDO: 15s</div>

        <button class="btn-main" onmousedown="iniciarScan()" onmouseup="validarRodada()">ESCANEAR RODADA</button>
        <button class="btn-reset" onclick="resetFantasma()">üîÑ RESET PROFUNDO (FANTASMA)</button>

        <div id="console-msg">>> IA-SENTINELA: Defesa de Camada 4 ativa. <br>>> Sincronizado com Superbet.</div>
    </div>

    <script>
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function bip(f, d, t) {
            const o = audioCtx.createOscillator();
            const g = audioCtx.createGain();
            o.connect(g); g.connect(audioCtx.destination);
            o.frequency.value = f; o.type = t; o.start();
            setTimeout(() => o.stop(), d);
        }

        setInterval(() => { document.getElementById('clock').innerText = new Date().toLocaleTimeString(); }, 1000);

        // Simulador de Press√£o IPI com Persist√™ncia
        let ipiLevel = 0;
        setInterval(() => {
            const bar = document.getElementById('ipi-bar');
            const radar = document.getElementById('radar');
            
            // Se o radar estiver em alerta, o IPI sobe mais r√°pido (Sticky Tracking)
            ipiLevel += Math.random() * 15;
            if (ipiLevel > 100) ipiLevel = 95;
            
            bar.style.width = ipiLevel + "%";

            if (ipiLevel > 75) {
                radar.innerText = "üö® MONITORAMENTO PERSISTENTE!";
                radar.className = "monitorado";
                bip(180, 200, 'square');
            } else if (ipiLevel > 40) {
                radar.innerText = "‚ö†Ô∏è RISCO MODERADO";
                radar.className = "alerta";
            }
        }, 6000);

        function resetFantasma() {
            bip(1200, 400, 'sine');
            ipiLevel = 0;
            window.localStorage.clear();
            
            // Protocolo de Desorienta√ß√£o
            const timerDisplay = document.getElementById('timer');
            const consoleMsg = document.getElementById('console-msg');
            
            timerDisplay.style.display = "block";
            consoleMsg.innerHTML = "<span style='color:var(--gold)'>>> RESET PROFUNDO: Saia da sala do Aviator AGORA e aguarde na Home.</span>";
            
            let timeLeft = 15;
            const interval = setInterval(() => {
                timeLeft--;
                timerDisplay.innerText = "DESORIENTANDO: " + timeLeft + "s";
                if (timeLeft <= 0) {
                    clearInterval(interval);
                    timerDisplay.style.display = "none";
                    bip(1500, 100, 'sine');
                    consoleMsg.innerHTML = ">> Identidade limpa. Reentre na sala e fa√ßa a Stake Suja (R$ 1,13).";
                    document.getElementById('radar').innerText = "‚úÖ IDENTIDADE RESETADA";
                    document.getElementById('radar').className = "limpo";
                }
            }, 1000);
        }

        function iniciarScan() {
            bip(800, 50, 'sine');
        }

        function validarRodada() {
            let xReal = ( (Math.random() * (3.8 - 2.0) + 2.0) * 0.5 ).toFixed(2);
            document.getElementById('console-msg').innerHTML += `<br>>> Rota Validada. Alvo Seguro: x${xReal}`;
            bip(1000, 100, 'sine');
        }
    </script>
</body>
</html>
